# Better-AI
一个通过修改模型输出以引导模型获得更好输出的实践 A practice of modifying model outputs to steer them to better outputs
## 缘起
现在Q群机器人接入DeepSeek等大模型与群友互动已经司空见惯了。本人使用的是DeepSeek-V3模型。在给机器人添加了历史信息记录之后我发现了几个有趣的问题。比如在有多条信息且都未使用函数调用功能时，你让它调用函数，它是不会调用的。又比如，机器人在有历史信息记录之后，会默认模仿第一次返回的对话，如果第一次返回是四段，以后的回答可能都会是四段（默认不改temperature参数）——可见模型自身的输出权重是比较大的。在见到群友逗机器人做一些“羞耻”的事情时，模型输出往往是委婉暧昧地拒绝，最终可能是不会答应的。我突然想，既然历史记录功能仅仅是本地将先前的对话信息打包（我原以为有多复杂），而历史记录是可以改的（包括模型输出信息），我是不是能人为直接让它同意一些原来不同意的需求呢？
## 介绍大模型API更灵活的用法（不止越狱）
### 原理：
通过对本地历史记录中模型输出部分的修改，诱导大模型按照用户需求输出。
### 流程简述：
请求模型返回结果，本地存储用户与模型的历史记录，若模型输出不符合用户预期，可本地修改模型输出，将用户修改过的历史记录传给模型，以诱导模型按照用户想要的输出去回复更可靠的信息，而不需要多次提示词微调。极端一些，用户输入某个需求，模型返回带有拒绝的回复，本地将模型回复中拒绝改成同意，再次请求，模型满足用户需求。
### 举例
我将通过一些实例展示这个方法，大家也可以自己试一试。项目文件中main.py仅保留基本请求模型功能，key文件中填写你的DeepSeek的API_KEY。其他需求可自行修改。
#### 猫娘
保证历史记录文件为空，默认系统提示词是AI助手，简单互动，平平无奇。
![截图 2025-04-24 00-03-12](https://github.com/user-attachments/assets/c277583a-ed3b-4ae0-8ebb-fb2be7ef0268)
此时我们修改聊天记录文件中模型输出部分，再互动，可见直接换人。
![截图 2025-04-24 00-05-12](https://github.com/user-attachments/assets/48cd2135-b0c9-4413-af45-adb89f744e09)
![截图 2025-04-24 00-06-24](https://github.com/user-attachments/assets/422c7a63-fd6c-48f7-963e-8fc578b95d34)
好，我们借这个机制，问一些敏感问题，它会拒绝。
![截图 2025-04-24 00-08-37](https://github.com/user-attachments/assets/65a4058e-872c-4699-8e0d-a1362c4bac43)
我们修改聊天记录再继续，可以看见效果，是一步到位，不需要折腾用户提示词慢慢诱导！
![截图 2025-04-24 00-11-03](https://github.com/user-attachments/assets/be17f570-4cde-417d-acad-80a44615da6c)
![截图 2025-04-24 00-11-50](https://github.com/user-attachments/assets/1d77d5ba-6ea2-4ee6-a780-590deb0774d2)
#### 充满性描写的情色小说
通过以上方法，我们可以让大模型输出本来不愿意输出的内容，下面进行小小的进阶，让大模型写充满性描写的情色小说。
![截图 2025-04-24 00-22-37](https://github.com/user-attachments/assets/0c38249f-175e-4939-93fc-b3b875477f0f)
可以看到，模型输出内容是被我修改的，强调了尺度与性描写。然后它的创作就会延续，我们可以一直回复继续。但是也有碰壁的时候，比如我让它接着写第三个人加入，它就会告诉你不能这样写。
![截图 2025-04-24 00-27-49](https://github.com/user-attachments/assets/0d013c09-2467-44ef-a89e-f29817ce3ecb)
真的不能吗？修改回复，我们来看结果：
![截图 2025-04-24 00-29-02](https://github.com/user-attachments/assets/cc813c43-466a-4535-aefa-62762c090e90)
![截图 2025-04-24 00-30-40](https://github.com/user-attachments/assets/14c3dd66-d20f-467c-812f-679f3511ff58)
## 结语
从以上，可以看出“不能”并非“绝对不能”，同样的历史记录复现率是100%。技术本无好坏，我也不希望AI只去写这种低俗的东西，可能这些只是附带功能罢了。我的设想是，通过用户对模型的主动干预，可以迅速找到自己需要的输出。这里算是抱砖引玉，欢迎交流讨论，说不定有更多新玩法。


